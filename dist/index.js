/*!
 * Tiny.Weapon
 * Description:Tinyjs 九宫格
 * Author: 清扬陌客
 * Version: v0.0.2
 * Github: https://github.com/qingyangmoke/tinyjs-plugin-ninepatch.git
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.NinePatch=e():(t.Tiny=t.Tiny||{},t.Tiny.NinePatch=e())}(this,function(){return function(t){function e(r){if(i[r])return i[r].exports;var h=i[r]={exports:{},id:r,loaded:!1};return t[r].call(h.exports,h,h.exports,e),h.loaded=!0,h.exports}var i={};return e.m=t,e.c=i,e.p="/Users/song/Develop/github/tinyjs-plugin-ninepatch/dist",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Sprite=void 0;var h=i(2),n=r(h);e.Sprite=n.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),s=function(t){function e(t,h,n,s){i(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));o.baseTexture=t,o._loaded=0,o._textures=[],o._gridSprites=[],void 0===h&&(h=o.baseTexture.width),void 0===n&&(n=o.baseTexture.height),o._targetWidth=h,o._targetHeight=n;for(var a=s[0],d=s[2],u=o.baseTexture.width-a-d,p=s[1],c=s[3],g=o.baseTexture.height-p-c,f=[a,d,u],l=[0,a,a+d],_=[p,c,g],y=[0,p,p+c],b=[],w=0;w<3;w++)for(var x=0;x<3;x++){var v=new Tiny.Rectangle(l[x],y[w],f[x],_[w]);b.push(v)}for(var T=new Tiny.Rectangle(0,0,o.baseTexture.width,o.baseTexture.height),S=null,j=0;j<9;j++){var H=b[j],O=new Tiny.Texture(o.baseTexture,H,T,S,0);o._textures.push(O);var W=new Tiny.Sprite(O);o._gridSprites.push(W),W.x=H.x,W.y=H.y,W.width=H.width,W.height=H.height,o.addChild(W),o._loaded++}return o._update(),o}return h(e,t),n(e,[{key:"resize",value:function(t,e){this._update(t,e)}},{key:"_update",value:function(t,e){if(void 0!==t&&(this._targetWidth=t),void 0!==e&&(this._targetHeight=e),this._targetWidth<this.baseTexture.width||this._targetHeight<this.baseTexture.height)throw Error("九宫格尺寸设置错误，尺寸不能小于素材尺寸");if(9===this._loaded){var i;i=this._gridSprites[1],i.position.set(this.children[0].width,0),i.width=this._targetWidth-i.x-this.children[2].width,i=this._gridSprites[2],i.position.set(this._targetWidth-i.width,0),i=this._gridSprites[3],i.position.set(0,this.children[0].height),i.height=this._targetHeight-i.y-this.children[6].height,i=this._gridSprites[4],i.position.set(this.children[1].x,this.children[3].y),i.height=this.children[3].height,i.width=this.children[1].width,i=this._gridSprites[5],i.position.set(this._targetWidth-i.width,this.children[3].y),i.height=this.children[3].height,i=this._gridSprites[6],i.position.set(0,this._targetHeight-i.height),i=this._gridSprites[7],i.position.set(this.children[1].x,this._targetHeight-i.height),i.width=this.children[1].width,i=this._gridSprites[8],i.position.set(this._targetWidth-i.width,this._targetHeight-i.height)}}},{key:"width",get:function(){return this._targetWidth},set:function(t){if(this._targetWidth<this.baseTexture.width)throw Error("九宫格尺寸设置错误，尺寸不能小于素材尺寸");this._targetWidth=t,this._update()}},{key:"height",get:function(){return this._targetHeight},set:function(t){if(this._targetHeight<this.baseTexture.height)throw Error("九宫格尺寸设置错误，尺寸不能小于素材尺寸");this._targetHeight=t,this._update()}}]),e}(Tiny.Sprite);e.default=s}])});